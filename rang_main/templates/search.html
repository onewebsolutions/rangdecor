{% extends 'master.html' %}

{% load static %}

   
   
   {% block header-files %}

    <link href="{% static 'front/css/lightgallery.min.css' %}" rel="stylesheet">
    <script src="{% static 'front/js/jquery-3.3.1.min.js' %}"></script>

    <style>
        @media(max-width: 992px) {
            .search-heading{
                font-size: 20px;
            }
        }
    </style>

    {% endblock %}




    {% block main-block %}

        <!-- banner-slider -->
        <section class="rev-slider">
            <div id="rev_slider_274_1_wrapper" class="rev_slider_wrapper fullwidthbanner-container" data-alias="rang decor-slider-8" data-source="gallery" style="margin:0px auto;background:transparent;padding:0px;margin-top:0px;margin-bottom:0px;">
            <!-- START REVOLUTION SLIDER 5.4.6.3 auto mode -->
            <div id="rev_slider_274_1" class="rev_slider fullwidthabanner" style="display:none;" data-version="5.4.6.3">
                <ul>  <!-- SLIDE  -->
                    <li data-index="rs-768" data-transition="fade" data-slotamount="default" data-hideafterloop="0" data-hideslideonmobile="off"  data-easein="default" data-easeout="default" data-masterspeed="300"  data-rotate="0"  data-saveperformance="off"  data-title="Slide" data-param1="" data-param2="" data-param3="" data-param4="" data-param5="" data-param6="" data-param7="" data-param8="" data-param9="" data-param10="" data-description="">
                    <!-- MAIN IMAGE -->
                        <img src="{% static 'front/images/banner/charco-banner.jpg' %}"  alt=""  data-bgposition="center center" data-bgfit="cover" class="rev-slidebg" data-no-retina>
                    <!-- LAYERS -->
                
                    <!-- BACKGROUND VIDEO LAYER -->

                </li>
                </ul>
        <div class="tp-bannertimer tp-bottom" style="visibility: hidden !important;"></div> </div>
        </div>      
        </section>


        <!-- bridge slider-TO-content -->
        <section class="business-13-about page-section-pb box-shadow">
            <div class="container" >
                <div class="row justify-content-center text-center">
                <div class="col-md-12">
                    <div class="business-13-about-content" style="background-color: #E5E7E6;">     
                        <div class="section-title text-center">
                        <h2 class="title-effect mb-50" style=" color: #02B28C;">Search Result</h2>
                    </div>
                    <p class="pl-130 pr-130" style="color: black; margin-top: -40px;">
                        <h1 class="search-heading">Search Results for &nbsp; "{{search | upper}}" </h1><p class="search--result"> {{ sheets|length }} Products found ! 
                    </p>
                    
                </div>
                </div>
                </div>
            </div>
        </section>

        <!-- Products -->
        <div class="section-full small-device  p-tb80" style="margin-top: -30px;">   
            <div class="section-content m-b50">

                <div class="container">
                    <!--  onkeyup="myFunction()" -->
                    <form action="#" id="searchModal__form" enctype="multipart/form-data">
                        <input  type="text" name="search" id="myInput" placeholder="Search for products.." style="margin-right: auto; margin-left: auto; float: none; display: block; margin-top: 50px; text-align: center; ">
                    </form>
                    

                    {% if  sheet %}
                        <div style="margin-top: 52px; padding-bottom: 52px !important; padding-left: 20px; padding-right: 20px;">

                            <div class="demo-gallery">
                                <div class="row">

                                    <ul id="lightgallery" class="list-unstyled row" style="justify-content: space-around;">

                                        {% if sheet %}
                                        {% for sheet in sheet %}
                                        <li class="col-6 col-sm-4 col-md-3 col-lg-2"  style="display: flex; justify-content: center; margin-top: 30px;" data-src="{% if sheet.main_image %}{{sheet.main_image.url}}{% endif %}">
                                            <a href="" > 
                                                <div class="product-item">
                                                    <img alt="{{sheet.number}}" src="{% if sheet.main_image %}{{sheet.main_image.url}}{% endif %}" class="img-responsive dg-picture-zoom" style= "height: 400px; width: 170px;"/>
                                                    <div class="overlay"><p>{{sheet.number}}</p></div>
                                                </div>
                                            </a>
                                        </li>
                                        {% endfor %}
                                        {% endif %}
                    
                                    </ul>


                                <script>
                                    function myFunction() {
                                        var input, filter, ul, li, a, i, txtValue;
                                        input = document.getElementById("myInput");
                                        filter = input.value.toUpperCase();
                                        ul = document.getElementById("lightgallery");
                                        li = ul.getElementsByTagName("li");
                                        for (i = 0; i < li.length; i++) {
                                            a = li[i].getElementsByTagName("p")[0];
                                            txtValue = a.textContent || a.innerText;
                                            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                                li[i].style.display = "";
                                            } else {
                                                li[i].style.display = "none";
                                            }
                                        }
                                    }
                                </script>


                            </div>
                            </div>

                        </div>
                    {% endif %}
                </div>

                <!-- Pagination -->

                {% if  sheet %}
                <div class="col-lg-12 col-md-12" style="margin-top: 100px;">
                    <nav aria-label="...">
                    <!-- main -->
                    <ul class="pagination" style="display: flex; justify-content: center;">
                        {% for num in sheet.paginator.page_range %}
                            {% ifequal num sheet.number %}
                                <li class="page-item active"><a class="page-link" href="#">{{ num }}<span class="sr-only">(current)</span></a></li>
                            {% else %}
                                <li class="page-item"><a class="page-link" href="?page={{ num }}&search={{ search|urlencode }}">{{ num }}</a></li>
                            {% endifequal %}
                        {% endfor %}

                    </ul>
                    </nav>
                </div>
                {% endif %}

            </div>
        </div>

        
        <script type="text/javascript">
            $(document).ready(function(){
                $('#lightgallery').lightGallery();
            });
        </script>


    {% endblock %}

    

    {% block footer-files %}

        <script src="{% static 'front/js/lightgallery-all.min.js' %}"></script>

    {% endblock %}

